{"version":3,"file":"static/js/919.3e8266ca.chunk.js","mappings":"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","sources":["components/Section/Section.styled.jsx","components/Section/Section.jsx","utils/constants.js","components/SearchForm/SearchFrom.styled.jsx","components/SearchForm/SearchForm.jsx","utils/functions.js","components/QueryGalleryItem/QueryGalleryItem.styled.jsx","components/QueryGalleryItem/QueryGalleryItem.jsx","components/QueryGallery/QueryGallery.styled.jsx","components/QueryGallery/QueryGallery.jsx","pages/MoviesPage/MoviesPage.styled.jsx","pages/MoviesPage/MoviesPage.jsx"],"sourcesContent":["import styled from 'styled-components';\nimport { Section } from './Section';\n\nconst SectionStyled = styled(Section)`\n  padding-top: 15px;\n  padding-bottom: 15px;\n\n  & .section-title {\n    margin-bottom: 5px;\n\n    text-align: center;\n    font-weight: 900;\n  }\n\n  ${props => props.theme.media.tablet} {\n    padding-top: 20px;\n    padding-bottom: 20px;\n  }\n  ${props => props.theme.media.desktop} {\n    padding-top: 25px;\n    padding-bottom: 25px;\n  }\n`;\n\nexport default SectionStyled;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Container } from 'components/App/App.styled';\n\nexport const Section = ({ title, className = 'section', children }) => {\n  return (\n    <section className={`section ${className}`}>\n      <Container className=\"container\">\n        {title && (\n          <h3 className={`${className}__title section-title`}>{title}</h3>\n        )}\n        {children}\n      </Container>\n    </section>\n  );\n};\n\nSection.propTypes = {\n  title: PropTypes.string,\n  className: PropTypes.string,\n  children: PropTypes.node,\n};\n","export const STATUS_MACHINE = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n","import styled from 'styled-components';\n\nconst SearchFormStyled = styled.form`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  flex-direction: column;\n  gap: 15px;\n  padding: 30px 0;\n\n  ${({ theme }) => theme.media.desktop} {\n    flex-direction: row;\n  }\n\n  & .movieSearch__input {\n    padding: 5px 10px;\n    border: 1px solid ${({ theme }) => theme.colors.accent};\n    border-radius: ${({ theme }) => theme.borderRadius};\n    transition: box-shadow ${({ theme }) => theme.cubic};\n\n    &:hover,\n    &:focus {\n      box-shadow: ${({ theme }) => theme.shadows.boxAccent};\n      outline: none;\n    }\n  }\n`;\n\nexport default SearchFormStyled;\n","import PropTypes from 'prop-types';\nimport { toast } from 'react-hot-toast';\n\nimport { Button } from 'components/App/App.styled';\nimport { isStringEmpty } from 'utils';\nimport SearchFormStyled from './SearchFrom.styled';\n\nexport default function SearchForm({ handleQuery, value }) {\n  function handleSearchFormSubmit(evt) {\n    evt.preventDefault();\n    const input = evt.target.elements.queryInput.value;\n    if (isStringEmpty(input)) {\n      toast.error('Empty query! Please write something!');\n      evt.target.reset();\n      return;\n    }\n    handleQuery(input);\n    evt.target.reset();\n  }\n\n  return (\n    <SearchFormStyled\n      name=\"movieSearch\"\n      className=\"movieSearch\"\n      onSubmit={handleSearchFormSubmit}\n    >\n      <input\n        type=\"text\"\n        name=\"queryInput\"\n        className=\"movieSearch__input\"\n        required\n        autoFocus\n      />\n      <Button type=\"submit\" className=\"movieSearch__submit\">\n        Search\n      </Button>\n    </SearchFormStyled>\n  );\n}\nSearchForm.propTypes = {\n  handleQuery: PropTypes.func.isRequired,\n  value: PropTypes.string.isRequired,\n};\n","//for some funtions\nexport function isStringEmpty(str) {\n  return /^\\s*$/.test(str);\n}\n","import styled from 'styled-components';\n\nexport const QueryGalleryItemStyled = styled.li`\n  padding: 10px;\n  border: 1px solid ${({ theme }) => theme.colors.accent};\n  border-radius: ${({ theme }) => theme.borderRadius};\n  background-color: ${({ theme }) => theme.colors.accent2};\n\n  & .queryGalleryItem__link {\n    display: inline-block;\n    margin-left: 10px;\n    margin-bottom: 10px;\n    font-weight: 600;\n    transition: color ${({ theme }) => theme.cubic};\n\n    &:hover,\n    &:focus {\n      color: ${({ theme }) => theme.colors.accent};\n    }\n  }\n\n  & .queryGalleryItem__vote {\n    margin-bottom: 5px;\n    margin-left: 5px;\n    font-size: 16px;\n    font-style: italic;\n  }\n\n  & .queryGalleryItem__overviewBtn {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 5px;\n    margin: 0 auto;\n    font-size: 18px;\n    padding: 5px 10px;\n  }\n\n  & .queryGalleryItem__overview {\n    margin-top: 15px;\n    text-align: center;\n    font-size: 16px;\n    font-style: italic;\n  }\n`;\n","import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link, useLocation } from 'react-router-dom';\nimport { BsFillCaretDownFill, BsFillCaretUpFill } from 'react-icons/bs';\n\nimport { QueryGalleryItemStyled } from './QueryGalleryItem.styled';\nimport { Button } from 'components/App/App.styled';\n\nexport default function QueryGalleryItem({ data }) {\n  console.log('data: ', data);\n  const [isOverViewShown, setIsOverViewShown] = useState(false);\n  const { title, id, overview, vote_average, release_date } = data;\n  const location = useLocation();\n\n  function handleShowOverViewBtn() {\n    setIsOverViewShown(prev => !prev);\n  }\n  return (\n    <QueryGalleryItemStyled className=\"queryGalleryItem\">\n      <Link\n        to={`/movies/${id}`}\n        state={{ from: { location } }}\n        className={'queryGalleryItem__link'}\n      >\n        üçø {title} ({release_date.slice(0, 4)})\n      </Link>\n      <p className=\"queryGalleryItem__vote\">\n        Average vote: {vote_average ?? `no votes`}\n      </p>\n      <Button\n        type=\"button\"\n        onClick={handleShowOverViewBtn}\n        className=\"queryGalleryItem__overviewBtn\"\n      >\n        <span>Overview</span>\n        {isOverViewShown ? <BsFillCaretUpFill /> : <BsFillCaretDownFill />}\n      </Button>\n      {isOverViewShown && (\n        <p className=\"queryGalleryItem__overview\">\n          {overview ?? `no overview`}\n        </p>\n      )}\n    </QueryGalleryItemStyled>\n  );\n}\nQueryGalleryItem.propTypes = {\n  data: PropTypes.shape({}).isRequired,\n};\n","import styled from 'styled-components';\n\nconst QueryGalleryStyled = styled.div`\n  &.queryGallery--idle,\n  &.queryGallery--rejected,\n  &.queryGallery--pending,\n  &.queryGallery--nothingFound {\n    padding: 30px 0;\n    text-align: center;\n    font-weight: 700;\n    color: ${({ theme }) => theme.colors.accent};\n  }\n\n  & .queryGallery__list {\n    display: flex;\n\n    justify-content: center;\n    flex-direction: column;\n    gap: 25px;\n  }\n`;\n\nexport default QueryGalleryStyled;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { STATUS_MACHINE } from 'utils';\nimport QueryGalleryItem from 'components/QueryGalleryItem';\nimport QueryGalleryStyled from './QueryGallery.styled';\nimport Loader from 'components/Loader/Loader';\n\nexport default function QueryGallery({ querySearchResults, status }) {\n  switch (status) {\n    case STATUS_MACHINE.IDLE:\n      return (\n        <QueryGalleryStyled className=\"queryGallery--idle\">\n          Search something\n        </QueryGalleryStyled>\n      );\n\n    case STATUS_MACHINE.PENDING:\n      return (\n        <QueryGalleryStyled className=\"queryGallery--pending\">\n          <p>Pending...</p>\n          <Loader />\n        </QueryGalleryStyled>\n      );\n    case STATUS_MACHINE.REJECTED:\n      return (\n        <QueryGalleryStyled className=\"queryGallery--rejected\">\n          Something went wrong! Please, try again!\n        </QueryGalleryStyled>\n      );\n    case STATUS_MACHINE.RESOLVED:\n      if (querySearchResults.length === 0) {\n        return (\n          <QueryGalleryStyled className=\"queryGallery--nothingFound\">\n            Nothing found!\n          </QueryGalleryStyled>\n        );\n      }\n      return (\n        <QueryGalleryStyled className=\"queryGallery\">\n          <ul className=\"queryGallery__list\">\n            {querySearchResults.map(item => (\n              <QueryGalleryItem key={item.id} data={item} />\n            ))}\n          </ul>\n        </QueryGalleryStyled>\n      );\n    default:\n      throw new Error('Wrong status for STATUS_MACHINE');\n  }\n}\nQueryGallery.propTypes = {\n  querySearchResults: PropTypes.arrayOf(PropTypes.shape({}).isRequired),\n  status: PropTypes.string.isRequired,\n};\n","import styled from 'styled-components';\n\nexport const MoviesPageStyled = styled.div`\n  & .searchQuery {\n    margin-bottom: 15px;\n    text-align: center;\n  }\n\n  & .pagination--movies {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    flex-wrap: wrap;\n    gap: 5px;\n    padding: 20px 10px;\n\n    & li {\n      padding: 5px;\n      border: 1px solid ${({ theme }) => theme.colors.accent2};\n      border-radius: ${({ theme }) => theme.borderRadius};\n\n      &.disabled {\n        position: absolute;\n        width: 1px;\n        height: 1px;\n        margin: -1px;\n        padding: 0;\n        overflow: hidden;\n        border: 0;\n        clip: rect(0 0 0 0);\n      }\n\n      &.selected {\n        padding: 7px;\n        background-color: ${({ theme }) => theme.colors.accent2};\n        color: ${({ theme }) => theme.colors.white};\n      }\n\n      &:hover,\n      &:focus {\n        background-color: ${({ theme }) => theme.colors.accent2};\n        color: ${({ theme }) => theme.colors.white};\n      }\n    }\n  }\n`;\n","import React, { useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\n\nimport SearchForm from 'components/SearchForm';\nimport Section from 'components/Section';\nimport { tmdb_API } from 'components/App/App';\nimport { STATUS_MACHINE } from 'utils';\nimport QueryGallery from 'components/QueryGallery';\nimport ReactPaginate from 'react-paginate';\nimport { MoviesPageStyled } from './MoviesPage.styled';\n\nexport default function MoviesPage() {\n  const [querySearchResults, setQuerySearchResults] = useState([]);\n  const [totalPages, setTotalPages] = useState(1); //total pages for pagination\n  const [status, setStatus] = useState(STATUS_MACHINE.IDLE); //status for QueryGallery state machine\n\n  //searchParams\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get('query');\n  const page = searchParams.get('page') ?? 1;\n\n  //when query changes - do fecthByQuery\n  useEffect(() => {\n    async function getQuerySearch(query) {\n      try {\n        setStatus(STATUS_MACHINE.PENDING);\n        const response = await tmdb_API.fetchByQuery(query, page);\n        const { results, total_pages } = response.data;\n        setQuerySearchResults(results);\n        setSearchParams({ query, page });\n        setTotalPages(total_pages);\n        // setPages(total_pages);\n        setStatus(STATUS_MACHINE.RESOLVED);\n      } catch (error) {\n        console.error(error);\n        setStatus(STATUS_MACHINE.REJECTED);\n      }\n    }\n    if (query === null) return;\n    getQuerySearch(query);\n  }, [query, page, setSearchParams]);\n\n  function handleQuery(newQuery) {\n    console.log('searchParams', query, page);\n    setSearchParams({ page, query: newQuery });\n  }\n\n  function handlePageClick({ selected }) {\n    setSearchParams({ query, page: selected + 1 });\n  }\n\n  return (\n    <Section className=\"section--movies\">\n      <MoviesPageStyled>\n        <SearchForm handleQuery={handleQuery} value={query ?? ''} />\n\n        {query && (\n          <p className=\"searchQuery\">\n            <b>Search query:</b> {query}\n          </p>\n        )}\n\n        <QueryGallery querySearchResults={querySearchResults} status={status} />\n\n        {totalPages > 1 && (\n          <ReactPaginate\n            breakLabel=\"...\"\n            nextLabel=\"next >\"\n            onPageChange={handlePageClick}\n            pageRangeDisplayed={5}\n            pageCount={totalPages}\n            previousLabel=\"< previous\"\n            renderOnZeroPageCount={null}\n            className=\"pagination--movies\"\n          />\n        )}\n      </MoviesPageStyled>\n    </Section>\n  );\n}\n"],"names":["styled","title","className","children","props","theme","media","tablet","desktop","STATUS_MACHINE","IDLE","PENDING","RESOLVED","REJECTED","colors","accent","borderRadius","cubic","shadows","boxAccent","SearchForm","handleQuery","value","name","onSubmit","evt","preventDefault","input","target","elements","queryInput","test","toast","reset","type","required","autoFocus","QueryGalleryItemStyled","accent2","QueryGalleryItem","data","console","log","useState","isOverViewShown","setIsOverViewShown","id","overview","vote_average","release_date","location","useLocation","to","state","from","slice","onClick","prev","QueryGallery","querySearchResults","status","Loader","length","map","item","Error","MoviesPageStyled","white","MoviesPage","setQuerySearchResults","totalPages","setTotalPages","setStatus","useSearchParams","searchParams","setSearchParams","query","get","page","useEffect","tmdb_API","response","results","total_pages","error","getQuerySearch","Section","newQuery","breakLabel","nextLabel","onPageChange","selected","pageRangeDisplayed","pageCount","previousLabel","renderOnZeroPageCount"],"sourceRoot":""}